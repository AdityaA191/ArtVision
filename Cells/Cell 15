import gradio as gr

# Define the function to generate the image
def generate_image(prompt, style, seed):
    image_path, debug_output = demo.generate_image(prompt, style, seed)
    return image_path, debug_output

# Create the Gradio interface
interface = gr.Interface(
    fn=generate_image,
    inputs=[
        gr.Textbox(
            value='A peaceful mountain landscape at sunset',
            placeholder='Enter your text prompt...',
            label='Prompt'
        ),
        gr.Dropdown(
            choices=list(demo.styles.keys()),
            value='none',
            label='Style'
        ),
        gr.Slider(
            minimum=0,
            maximum=1000,
            step=1,
            label='Seed (Optional)'
        )
    ],
    outputs=[
        gr.Image(label="Generated Image"),
        gr.Textbox(label="Emotion & Run Logs", lines=10)
    ],
    title="ArtVision: Emotion-Driven Text-to-Image Generation",
    description="Enter a text prompt, select a style and click submit to generate image..."
)

# Launch the app
interface.launch()
